import vtk




points =[[1, 1, 5447.285156, 6199.042969, 2853.0, 6.0, -1], [2, 1, 5447.887695, 6199.535156, 2851.469971, 6.576416, 1], [3, 1, 5448.716797, 6199.714355, 2850.518555, 6.449329, 2], [4, 1, 5449.576172, 6199.623047, 2849.603271, 6.348752, 3], [5, 1, 5450.552734, 6199.692383, 2848.739014, 6.431331, 4], [6, 1, 5451.46875, 6199.321289, 2848.300537, 6.359891, 5], [7, 1, 5451.936035, 6199.583008, 2847.658203, 5.977293, 6], [8, 1, 5452.845703, 6200.253906, 2847.758301, 5.371423, 7], [9, 1, 5454.333008, 6200.37207, 2848.527344, 4.806402, 8], [10, 1, 5454.873047, 6200.48877, 2849.029297, 4.809869, 9], [11, 1, 5455.356445, 6200.50293, 2849.716553, 5.053533, 10], [12, 1, 5457.72168, 6201.04248, 2850.0, 5.0, 11], [13, 1, 5456.741211, 6201.291992, 2849.785156, 5.699104, 12], [14, 1, 5458.02002, 6202.279297, 2850.164063, 3.316927, 13], [15, 1, 5458.472656, 6204.11084, 2849.902344, 1.2055, 14], [16, 1, 5459.185059, 6205.168945, 2849.031982, 0.149786, 15], [17, 1, 5460.211426, 6206.023926, 2848.0, 0.0, 16], [18, 1, 5460.663574, 6205.883789, 2846.084473, 0.149786, 17], [19, 1, 5461.566406, 6207.396484, 2847.475586, 0.86046, 18], [20, 1, 5462.641602, 6209.035156, 2847.31543, 1.362646, 19], [21, 1, 5463.678711, 6210.876953, 2848.0, 1.0, 20], [22, 1, 5463.61084, 6212.004395, 2845.079346, 0.149786, 21], [23, 1, 5463.603516, 6212.960938, 2845.274658, 0.149786, 22], [24, 1, 5463.921387, 6214.184082, 2847.235352, 0.29502, 23], [25, 1, 5464.458984, 6215.411133, 2848.862549, 0.462517, 24], [26, 1, 5464.712891, 6216.500977, 2849.675537, 0.587439, 25], [27, 1, 5464.703125, 6217.666016, 2850.047607, 0.509992, 26], [28, 1, 5464.823242, 6218.862305, 2850.281006, 0.501619, 27], [29, 1, 5465.326172, 6220.018555, 2850.702881, 0.762578, 28], [30, 1, 5465.838867, 6221.171387, 2850.993164, 0.941038, 29], [31, 1, 5466.538574, 6222.575684, 2851.0, 0.0, 30], [32, 1, 5466.416992, 6223.184082, 2851.311279, 0.149786, 31], [33, 1, 5467.070313, 6224.602051, 2851.401611, 0.149786, 32], [34, 1, 5467.578613, 6225.850098, 2852.565918, 0.149786, 33], [35, 1, 5467.937012, 6227.1875, 2852.864258, 0.149786, 34], [36, 1, 5468.531738, 6227.861816, 2854.0, 0.0, 35], [37, 1, 5469.099121, 6229.725586, 2854.793701, 0.696868, 36], [38, 1, 5469.732422, 6230.845703, 2855.431885, 0.656021, 37], [39, 1, 5470.203125, 6232.023926, 2855.808594, 0.722423, 38], [40, 1, 5470.557129, 6233.260742, 2856.084473, 0.548912, 39], [41, 1, 5470.855469, 6234.409668, 2856.313477, 0.52017, 40], [42, 1, 5471.256836, 6235.584961, 2856.442627, 0.51059, 41], [43, 1, 5471.842773, 6236.830078, 2856.138184, 0.270054, 42], [44, 1, 5472.363281, 6238.043945, 2856.042969, 0.189875, 43], [45, 1, 5472.807129, 6239.248047, 2856.013428, 0.163149, 44], [46, 1, 5473.001953, 6240.449707, 2856.004395, 0.15424, 45], [47, 1, 5473.006836, 6241.649902, 2856.001465, 0.151271, 46], [48, 1, 5473.667969, 6243.011719, 2856.680908, 0.370542, 47], [49, 1, 5474.295898, 6244.294434, 2857.773682, 0.651879, 48], [50, 1, 5474.45752, 6245.32666, 2858.385742, 0.525397, 49], [51, 1, 5474.614258, 6246.474121, 2858.663086, 0.501062, 50], [52, 1, 5474.702148, 6247.657227, 2858.720703, 0.49295, 51], [53, 1, 5474.928711, 6248.737793, 2858.929443, 0.566079, 52], [54, 1, 5475.648926, 6249.877441, 2858.997803, 0.590455, 53], [55, 1, 5476.424805, 6250.549316, 2859.724609, 0.711326, 54], [56, 1, 5477.329102, 6251.509766, 2860.943359, 1.173049, 55], [57, 1, 5477.957031, 6253.526367, 2861.468262, 1.414085, 56], [58, 1, 5478.671875, 6255.072266, 2861.0, 1.0, 57], [59, 1, 5479.238281, 6256.049316, 2862.470215, 1.146318, 58], [60, 1, 5479.852539, 6257.290039, 2862.561523, 0.755675, 59], [61, 1, 5480.692383, 6258.525391, 2863.095459, 0.97092, 60], [62, 1, 5481.618652, 6259.751953, 2865.0, 0.0, 61], [63, 1, 5481.933105, 6260.663574, 2866.205078, 0.910176, 62], [64, 1, 5482.333496, 6261.987793, 2867.233643, 0.76777, 63], [65, 1, 5482.681152, 6263.271484, 2867.47168, 0.676062, 64], [66, 1, 5483.352539, 6264.950195, 2868.0, 0.0, 65], [67, 1, 5483.783203, 6265.616211, 2868.154297, 0.696868, 66], [68, 1, 5484.242188, 6266.805664, 2868.261475, 0.776342, 67], [69, 1, 5484.605469, 6268.05127, 2867.868896, 0.956096, 68], [70, 1, 5485.432617, 6269.803223, 2868.0, 0.0, 69], [71, 1, 5486.472656, 6273.876465, 2868.0, 0.149786, 70], [72, 1, 5486.884766, 6275.335938, 2866.40625, 1.146318, 71], [73, 1, 5487.885742, 6276.460449, 2867.567139, 0.266667, 72], [74, 1, 5488.98584, 6277.429199, 2868.0, 0.266667, 73], [75, 1, 5493.492188, 6281.243164, 2870.0, 1.764573, 74], [76, 1, 5494.263184, 6281.422852, 2870.604248, 0.149786, 75], [77, 1, 5495.195801, 6282.446777, 2870.825684, 0.351811, 76], [78, 1, 5496.029785, 6283.649414, 2870.945313, 0.217128, 77], [79, 1, 5496.90918, 6284.849609, 2870.04541, 0.172233, 78], [80, 1, 5497.802734, 6286.049805, 2868.63916, 0.157268, 79], [81, 1, 5498.700684, 6287.25, 2868.199707, 0.15228, 80], [82, 1, 5499.037598, 6288.450195, 2867.125, 0.150617, 81], [83, 1, 5498.76709, 6289.650391, 2866.060059, 0.447428, 82], [84, 1, 5498.686523, 6290.84668, 2865.895752, 0.783707, 83], [85, 1, 5498.875, 6291.989258, 2865.487793, 0.950844, 84], [86, 1, 5499.296387, 6293.144531, 2865.405762, 0.914447, 85], [87, 1, 5499.579102, 6294.392578, 2865.286133, 0.549907, 86], [88, 1, 5499.875, 6295.632324, 2865.089355, 0.28316, 87], [89, 1, 5500.585938, 6296.844727, 2864.090576, 0.149786, 88], [90, 1, 5501.812012, 6298.228516, 2863.0, 0.0, 89]]

vtk_points = vtk.vtkPoints()
for i in xrange(len(points)):
    vtk_points.InsertPoint(i, points[i][2: 5])

a = range(len(points))
lines_cell_array = vtk.vtkCellArray()
lines_cell_array.InsertNextCell(len(points))
for i in range(len(points)):
    lines_cell_array.InsertCellPoint(i)



vertice_cell_array = vtk.vtkCellArray()
vertice_cell_array.InsertNextCell(3)
vertice_cell_array.InsertCellPoint(0)
vertice_cell_array.InsertCellPoint(1)
vertice_cell_array.InsertCellPoint(2)

lines_show = vtk.vtkPolyData()
lines_show.SetPoints(vtk_points)
lines_show.SetLines(lines_cell_array)


lines_mapper = vtk.vtkPolyDataMapper()
lines_mapper.SetInput(lines_show)

lines_actor = vtk.vtkActor()
lines_actor.SetMapper(lines_mapper)
lines_actor.GetProperty().SetLineWidth(5)

vertices_show = vtk.vtkPolyData()
vertices_show.SetPoints(vtk_points)
vertices_show.SetVerts(vertice_cell_array)

vertices_mapper = vtk.vtkPolyDataMapper()
vertices_mapper.SetInput(vertices_show)

vertices_actor = vtk.vtkActor()
vertices_actor.SetMapper(vertices_mapper)
vertices_actor.GetProperty().SetPointSize(200)


def pickerExec(obj, env):
    global picker
    print picker.GetPickPosition()
    print picker.GetSelectionPoint()
    print picker.GetActor()
    ren.RemoveActor(picker.GetActor())
    renWin.Render()
    
picker = vtk.vtkCellPicker()
picker.AddObserver("EndPickEvent", pickerExec)

ren = vtk.vtkRenderer()
ren.AddActor(lines_actor)
# ren.AddActor(vertices_actor)
ren.SetBackground(0.1, 0.2, 0.3)

renWin = vtk.vtkRenderWindow()
renWin.AddRenderer(ren)

iren = vtk.vtkRenderWindowInteractor()
iren.SetRenderWindow(renWin)
iren.SetPicker(picker)
renWin.Render()
iren.Start()